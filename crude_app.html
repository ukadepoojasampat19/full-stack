<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add course page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-expanded="false">
                    Dropdown
                  </a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </li>
                <li class="nav-item">
                  <a class="nav-link disabled">Disabled</a>
                </li>
              </ul>
              <form class="form-inline my-2 my-lg-0 d-flex justify-content-between">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
              </form>
            </div>
          </nav> 

    </header>
    <main>
        <div class="container mt-5 col-6">
        <div class="input-group mb-3">
            
            <input type="text" class="form-control" placeholder="chapter Name" aria-label="Example text with button addon" aria-describedby="button-addon1">
           <button id="add_btn1" class="btn btn-outline-success" type="button" id="button-addon1">Add</button>
          
          </div>
       
        <ul id="parentList" class="list-group">
            <li class="list-group-item d-flex justify-content-between">
                <h5 class="flex-grow-1"> chapter 1 </h5> 
                <button id="edit_btn" class="btn btn-warning mx-1">Edit</button>
                <button id="remo_btn" class="btn btn-danger text-center" onclick="removeChapter(this)">Remove</button></li>
           
          </ul>
        </div>
          
        
    </main>
    <script>
        let addbutton=document.getElementById("add_btn1");
        addbutton.addEventListener("click",addchapter);
        let parentList = document.getElementById("parentList");
        function addchapter(e){
          if(parentList.children[0].className == "EmptyMesg")
          {
             parentList.children[0].remove();
          }
           let currentbtn=e.currentTarget;
           let currentInput= currentbtn.previousElementSibling;
           let currentName =currentInput.value;

           let edit_btn=document.getElementById("edit_btn");
           let remo_btn=document.getElementById("remo_btn");

        //    creation of element.
            let newLi=document.createElement("li");
            // newLi.className.add("list-group-item");
            newLi.className = "list-group-item d-flex justify-content-between";
            newLi.innerHTML =`<h5 class="flex-grow-1"> ${currentName}</h5> 
                <button id="edit_btn" class="btn btn-warning mx-1" onclick="editChapter(this)">Edit</button>
                <button id="remo_btn" class="btn btn-danger" onclick="removeChapter(this)">Remove</button></li>`;
            

           
            parentList.appendChild(newLi);
            
        }
        function  removeChapter(currElement)
            {
                currElement.parentElement.remove(); 
                let parentList = document.getElementById("parentList");
                if(parentList.children.length <=0){

                    let newEle=document.createElement("h5");
                    newEle.classList.add("EmptyMesg");

                    newEle.textContent="Nothing is here plz add a chapter.";
                    parentList.appendChild(newEle);
                }
            }   
            function editChapter(curr_edit)
            {
              if(curr_edit.textContent == "Done")
              {
                curr_edit.textContent ="edit";
                let curr_name=curr_edit.previousElementSibling.value;
                let curr_heading=document.createElement("h5");
                curr_heading.className ="flex-grow-1";
                curr_heading.textContent = curr_name;
                curr_edit.parentElement.replaceChild(curr_heading,curr_edit.previousElementSibling);
              }
              else{
                curr_edit.textContent = "Done";
                let curr_name=curr_edit.previousElementSibling.value;
                let curr_input=document.createElement("input");
                curr_input.type="text";
                
                curr_input.placeholder="chapter Name";
                curr_input.className="form-control";
                curr_input.value = curr_name;
                curr_edit.parentElement.replaceChild(curr_input,curr_edit.previousElementSibling)
              
              }
              // let curr_name=curr_edit.previousElementSibling.textContent;
              // let curr_input=document.createElement("input");
              // curr_input.type="text";
              // curr_input.placeholder="chapter Name";
              // curr_input.className="form-control";
              // curr_input.value = curr_name;
              // curr_edit.parentElement.replaceChild(curr_input,curr_edit.previousElementSibling)
              

            }
       

    </script>

    
</body>
</html>